<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Hexo用法</title>
    <link href="/2023/12/02/%E5%BC%80%E5%A7%8B/"/>
    <url>/2023/12/02/%E5%BC%80%E5%A7%8B/</url>
    
    <content type="html"><![CDATA[<p><a href="https://hexo.io/zh-cn/">官网</a>：<a href="https://hexo.io/">Hexo</a><br><a href="https://hexo.io/zh-cn/docs/index.html">文档</a>：<a href="https://hexo.io/docs/">documentation</a><br><a href="https://hexo.io/zh-cn/docs/troubleshooting.html">答疑</a>：<a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a><br><a href="https://github.com/hexojs/hexo/issues">GitHub</a>:</p><h2 id="快速开始"><a href="#快速开始" class="headerlink" title="快速开始"></a>快速开始</h2><h3 id="创建新帖子"><a href="#创建新帖子" class="headerlink" title="创建新帖子"></a>创建新帖子</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>更多用法: <a href="https://hexo.io/zh-cn/docs/writing.html">写作</a></p><h3 id="运行服务器"><a href="#运行服务器" class="headerlink" title="运行服务器"></a>运行服务器</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo server<br></code></pre></td></tr></table></figure><p>简写：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo s<br></code></pre></td></tr></table></figure><p>更多用法: <a href="https://hexo.io/zh-cn/docs/server.html">服务器</a></p><h3 id="生成静态文件"><a href="#生成静态文件" class="headerlink" title="生成静态文件"></a>生成静态文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo generate<br></code></pre></td></tr></table></figure><p>简写：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo g<br></code></pre></td></tr></table></figure><p>更多用法: <a href="https://hexo.io/zh-cn/docs/generating.html">生成文件</a></p><h3 id="部署到远程站点"><a href="#部署到远程站点" class="headerlink" title="部署到远程站点"></a>部署到远程站点</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo deploy<br></code></pre></td></tr></table></figure><p>简写：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo d<br></code></pre></td></tr></table></figure><p>更多用法: <a href="https://hexo.io/zh-cn/docs/one-command-deployment.html">部署</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>hexo+fluid搭建个人博客</title>
    <link href="/2023/12/01/hexo+fluid%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E6%96%B9%E6%B3%95%E8%AE%B0%E5%BD%95/"/>
    <url>/2023/12/01/hexo+fluid%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E6%96%B9%E6%B3%95%E8%AE%B0%E5%BD%95/</url>
    
    <content type="html"><![CDATA[<h1 id="hexo-fluid搭建个人博客"><a href="#hexo-fluid搭建个人博客" class="headerlink" title="hexo+fluid搭建个人博客"></a>hexo+fluid搭建个人博客</h1><h2 id="一、准备"><a href="#一、准备" class="headerlink" title="一、准备"></a>一、准备</h2><h3 id="1-GitHub配置"><a href="#1-GitHub配置" class="headerlink" title="1. GitHub配置"></a>1. GitHub配置</h3><p>首先注册<a href="https://github.com/">github</a>账号。然后本地安装GIT，网上很多教程。</p><p>在GitHub上创建一个仓库，点击Your repositories，进入仓库页面。点击New按钮，进入仓库创建页面。填写仓库名，格式必须为<code>&lt;用户名&gt;.github.io</code>，然后点击Create repository。</p><p>创建完成后会提示创建文件，建议首先创建一个README文件，填写内容之后点击Commit new file提交。</p><p>回到仓库，点击Settings，然后点击左侧Pages，可以看到GitHub Pages。你的站点就是：<code>https://&lt;用户名&gt;.github.io</code>。[Build and deployment]配置项，选择<strong>Deploy from a branch</strong>。下面是配置的分支，通常是<code>main</code>。至此，GitHub上配置暂时完成。</p><h3 id="2-hexo配置"><a href="#2-hexo配置" class="headerlink" title="2. hexo配置"></a>2. hexo配置</h3><p>本地创建一个目录，例如<code>hexo</code>，然后进入该目录，通过npm安装：</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs avrasm">npm install -g hexo-<span class="hljs-keyword">cli</span><br></code></pre></td></tr></table></figure><p>查看版本信息，确认安装完成：</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">hexo -v</span><br></code></pre></td></tr></table></figure><p>创建一个hexo项目，也就是你的博客目录。</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">hexo init <span class="hljs-keyword">blog</span><br><span class="hljs-keyword"></span>cd <span class="hljs-keyword">blog</span><br><span class="hljs-keyword"></span>npm <span class="hljs-keyword">install</span><br></code></pre></td></tr></table></figure><p>本地启动hexo服务，</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs verilog">hexo <span class="hljs-keyword">generate</span># 生成静态文件<br>hexo server# 启动服务器<br></code></pre></td></tr></table></figure><p>通过 <a href="http://localhost:4000/">http://localhost:4000</a> 访问页面，此时是默认主题：landscape。</p><h3 id="3-fluid配置"><a href="#3-fluid配置" class="headerlink" title="3. fluid配置"></a>3. fluid配置</h3><p>默认主题不好看，hexo官网可选择主题：<a href="https://hexo.io/themes/">Themes | Hexo</a></p><p>推荐两个主题，一个是<a href="https://github.com/next-theme/hexo-theme-next">NEXT</a>， 另一个是<a href="https://github.com/fluid-dev/hexo-theme-fluid">fluid</a>。这里更换主题为 fluid 。推荐从github下载最新压缩包：<a href="https://github.com/fluid-dev/hexo-theme-fluid/releases">Releases · fluid-dev&#x2F;hexo-theme-fluid (github.com)</a>，解压到 <code>themes</code> 目录，并将解压出的文件夹重命名为 <code>fluid</code>。</p><p>修改目录<code>blog/_config.yml</code>文件中的主题配置为：<code>theme: fluid</code>。<a href="https://hexo.fluid-dev.com/docs/">Hexo Fluid 用户手册 (fluid-dev.com)</a></p><p>fluid有一个需要注意的，就是创建<a href="https://hexo.fluid-dev.com/docs/guide/#%E5%85%B3%E4%BA%8E%E9%A1%B5">关于页</a>，需要手动创建：</p><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs haxe">hexo <span class="hljs-keyword">new</span> <span class="hljs-type">page</span> about<br></code></pre></td></tr></table></figure><p>创建成功后修改 <code>/source/about/index.md</code>，添加 <code>layout</code> 属性。修改后的文件示例如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">title:</span> <span class="hljs-string">标题</span><br><span class="hljs-attr">date:</span> <span class="hljs-number">2023-12-02 01:59:10</span><br><span class="hljs-attr">layout:</span> <span class="hljs-string">about</span><br><span class="hljs-meta">---</span><br><span class="hljs-meta"></span><br><span class="hljs-string">这里可以写正文，支持</span> <span class="hljs-string">Markdown,</span> <span class="hljs-string">HTML</span><br></code></pre></td></tr></table></figure><blockquote><p><code>layout: about</code> 必须存在，并且不能修改成其他值，否则不会显示头像等样式。</p></blockquote><h3 id="4-个性化配置"><a href="#4-个性化配置" class="headerlink" title="4. 个性化配置"></a>4. 个性化配置</h3><h4 id="浏览器tab页名称"><a href="#浏览器tab页名称" class="headerlink" title="浏览器tab页名称"></a>浏览器tab页名称</h4><p>修改根目录下 <code>blog/_config.yml</code> 中的 <code>title</code> 字段。</p><h4 id="博客标题"><a href="#博客标题" class="headerlink" title="博客标题"></a>博客标题</h4><p>主题目录 <code>themes\fluid</code> 下 <code>_config.yml</code> 中的 <code>blog_title</code> 字段。</p><h4 id="主页正中间的文字"><a href="#主页正中间的文字" class="headerlink" title="主页正中间的文字"></a>主页正中间的文字</h4><p>主题目录 <code>themes\fluid</code> 下 <code>_config.yml</code> 中的 <code>text</code> 字段。</p><p>修改之后，通过命令启动服务器，可以看到个性化页面：</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs verilog">hexo g# hexo <span class="hljs-keyword">generate</span>的缩写<br>hexo s# hexo server的缩写<br></code></pre></td></tr></table></figure><h3 id="5-访问量统计"><a href="#5-访问量统计" class="headerlink" title="5. 访问量统计"></a>5. 访问量统计</h3><p><code>Fluid</code> 主题写好了统计阅读量的代码，但是缺少相应配置所以没有开启，需要借助三方服务来统计阅读量，这里是有 <code>Leancloud</code> 的免费服务来进行统计。</p><h4 id="5-1-申请LeanCloud账号并创建应用"><a href="#5-1-申请LeanCloud账号并创建应用" class="headerlink" title="5.1 申请LeanCloud账号并创建应用"></a>5.1 申请LeanCloud账号并创建应用</h4><p>进入 <a href="https://console.leancloud.cn/">官网</a> 注册账号，需实名认证，验证邮箱，完成后才能使用各项服务。创建应用，选择<code>开发版</code>即可，免费的进入该应用的 <code>设置-&gt;应用凭证</code>，找到 <strong><code>AppID</code></strong> 和 **<code>AppKey</code>**，记录下来后面配置要用。</p><h4 id="5-2-修改Fluid统计配置"><a href="#5-2-修改Fluid统计配置" class="headerlink" title="5.2 修改Fluid统计配置"></a>5.2 修改Fluid统计配置</h4><p>打开主题目录 <code>themes\fluid</code>下的 <code>_config.yml</code> 文件，修改如下配置：</p><h5 id="单篇文章阅读量计数"><a href="#单篇文章阅读量计数" class="headerlink" title="单篇文章阅读量计数"></a>单篇文章阅读量计数</h5><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># 网页访问统计</span><br><span class="hljs-comment"># Analysis of website visitors</span><br><span class="hljs-attr">web_analytics:</span>  <span class="hljs-comment"># 网页访问统计</span><br><span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br><br><span class="hljs-string">...</span><br><br><span class="hljs-attr">leancloud:</span><br>    <span class="hljs-attr">app_id:</span> <span class="hljs-string">填写你的</span><br>    <span class="hljs-attr">app_key:</span> <span class="hljs-string">填写你的</span><br>    <span class="hljs-comment"># REST API 服务器地址，国际版不填</span><br>    <span class="hljs-comment"># Only the Chinese mainland users need to set</span><br>    <span class="hljs-attr">server_url:</span> <span class="hljs-string">填写你的REST</span> <span class="hljs-string">API</span> <span class="hljs-string">服务器地址</span><br>    <span class="hljs-comment"># 统计页面时获取路径的属性</span><br>    <span class="hljs-comment"># Get the attribute of the page path during statistics</span><br>    <span class="hljs-attr">path:</span> <span class="hljs-string">window.location.pathname</span><br>    <span class="hljs-comment"># 开启后不统计本地路径( localhost 与 127.0.0.1 )</span><br>    <span class="hljs-comment"># If true, ignore localhost &amp; 127.0.0.1</span><br>    <span class="hljs-attr">ignore_local:</span> <span class="hljs-literal">false</span><br></code></pre></td></tr></table></figure><h5 id="浏览量计数"><a href="#浏览量计数" class="headerlink" title="浏览量计数"></a>浏览量计数</h5><p>修改成leancloud：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 浏览量计数</span><br><span class="hljs-comment"># Number of visits</span><br>views:<br>  <span class="hljs-built_in">enable</span>: <span class="hljs-literal">true</span><br>  <span class="hljs-comment"># 统计数据来源</span><br>  <span class="hljs-comment"># Data Source</span><br>  <span class="hljs-comment"># Options: busuanzi | leancloud</span><br>  <span class="hljs-built_in">source</span>: <span class="hljs-string">&quot;leancloud&quot;</span><br></code></pre></td></tr></table></figure><h5 id="页面底部展示网站的-PV、UV-统计数"><a href="#页面底部展示网站的-PV、UV-统计数" class="headerlink" title="页面底部展示网站的 PV、UV 统计数"></a>页面底部展示网站的 PV、UV 统计数</h5><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># 展示网站的 PV、UV 统计数</span><br><span class="hljs-comment"># Display website PV and UV statistics</span><br><span class="hljs-attr">statistics:</span><br><span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br><br>    <span class="hljs-comment"># 统计数据来源，使用 leancloud 需要设置 `web_analytics: leancloud` 中的参数；使用 busuanzi 不需要额外设置，但是有时不稳定，另外本地运行时 busuanzi 显示统计数据很大属于正常现象，部署后会正常</span><br>    <span class="hljs-comment"># Data source. If use leancloud, you need to set the parameter in `web_analytics: leancloud`</span><br>    <span class="hljs-comment"># Options: busuanzi | leancloud</span><br>    <span class="hljs-attr">source:</span> <span class="hljs-string">&quot;leancloud&quot;</span><br>    <span class="hljs-attr">pv_format:</span> <span class="hljs-string">&quot;总访问量 &#123;&#125; 次&quot;</span>  <span class="hljs-comment"># 显示的文本，&#123;&#125;是数字的占位符（必须包含)，下同</span><br>    <span class="hljs-attr">uv_format:</span> <span class="hljs-string">&quot;总访客数 &#123;&#125; 人&quot;</span><br></code></pre></td></tr></table></figure><h5 id="5-3-开启评论功能"><a href="#5-3-开启评论功能" class="headerlink" title="5.3 开启评论功能"></a>5.3 开启评论功能</h5><p>打开主题目录 <code>themes\fluid</code>下的 <code>_config.yml</code> 文件，修改如下配置：</p><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs coq"># 评论插件<br>  # Comment plugin<br>  comments:<br>    enable: true<br>    # 指定的插件，需要同时设置对应插件的必要参数<br>    # The specified plugin needs to <span class="hljs-built_in">set</span> the necessary parameters <span class="hljs-built_in">at</span> the same <span class="hljs-built_in">time</span><br>    # <span class="hljs-keyword">Options</span>: utterances | <span class="hljs-type">disqus</span> | <span class="hljs-type">gitalk</span> | <span class="hljs-type">valine</span> | <span class="hljs-type">waline</span> | <span class="hljs-type">changyan</span> | <span class="hljs-type">livere</span> | <span class="hljs-type">remark42</span> | <span class="hljs-type">twikoo</span> | <span class="hljs-type">cusdis</span> | <span class="hljs-type">giscus</span> | <span class="hljs-type">discuss</span><br>    type: valine<br></code></pre></td></tr></table></figure><p>配置 <code>LeanCloud</code> 的 <code>appId</code> 和 <code>appkey</code>：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># Valine</span><br><span class="hljs-comment"># 基于 LeanCloud</span><br><span class="hljs-comment"># Based on LeanCloud</span><br><span class="hljs-comment"># See: https://valine.js.org/</span><br><span class="hljs-attr">valine:</span><br>  <span class="hljs-attr">appId:</span> <span class="hljs-string">填写</span> <br>  <span class="hljs-attr">appKey:</span> <span class="hljs-string">填写</span><br>  <span class="hljs-attr">path:</span> <span class="hljs-string">window.location.pathname</span><br>  <span class="hljs-attr">placeholder:</span> <span class="hljs-string">说点什么</span><br>  <span class="hljs-attr">avatar:</span> <span class="hljs-string">&#x27;retro&#x27;</span><br>  <span class="hljs-attr">meta:</span> [<span class="hljs-string">&#x27;nick&#x27;</span>, <span class="hljs-string">&#x27;mail&#x27;</span>, <span class="hljs-string">&#x27;link&#x27;</span>]<br>  <span class="hljs-attr">requiredFields:</span> []<br>  <span class="hljs-attr">pageSize:</span> <span class="hljs-number">10</span><br>  <span class="hljs-attr">lang:</span> <span class="hljs-string">&#x27;zh-CN&#x27;</span><br>  <span class="hljs-attr">highlight:</span> <span class="hljs-literal">false</span><br>  <span class="hljs-attr">recordIP:</span> <span class="hljs-literal">false</span><br>  <span class="hljs-attr">serverURLs:</span> <span class="hljs-string">&#x27;&#x27;</span><br>  <span class="hljs-attr">emojiCDN:</span><br>  <span class="hljs-attr">emojiMaps:</span><br>  <span class="hljs-attr">enableQQ:</span> <span class="hljs-literal">false</span><br></code></pre></td></tr></table></figure><p>重新部署，可以看到效果。</p><h2 id="二、部署"><a href="#二、部署" class="headerlink" title="二、部署"></a>二、部署</h2><p>发布博客到GitHub Pages，推荐使用hexo-deployer-git部署。</p><p>首先安装hexo-deployer-git：</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">npm install hexo-deployer-git <span class="hljs-comment">--save</span><br></code></pre></td></tr></table></figure><p>修改根目录下的 <code>_config.yml</code>，配置 <code>GitHub</code> 相关信息：</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">deploy:</span><br><span class="hljs-symbol">  type:</span> git<br><span class="hljs-symbol">  repo:</span> git@github.com:Cjvaely/Cjvaely.github.io.git<br><span class="hljs-symbol">  branch:</span> main<br></code></pre></td></tr></table></figure><p>注意，这里repo很多推荐填写的格式是：<code>https://github.com/Cjvaely/Cjvaely.github.io.git</code>，但是我遇到报错：<code>err: Error: Spawn failed at ChildProcess.&lt;anonymous&gt; </code>，解决方法参考issue: <a href="https://github.com/hexojs/hexo/issues/2778">hexo d ：give me fatal: could not read Username for ‘https://github.com': No error · Issue #2778 · hexojs/hexo</a>，最后成功部署。部署三部曲：</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">hexo clean</span><br><span class="hljs-attribute">hexo g</span><br><span class="hljs-attribute">hexo d</span><br></code></pre></td></tr></table></figure><p>现在，你可以通过前面的 https:&#x2F;&#x2F;&lt;用户名&gt;.github.io 访问自己的博客了。</p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
